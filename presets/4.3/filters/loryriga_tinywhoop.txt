#$ TITLE: Tinywhoop Filters by LoryRiga
#$ FIRMWARE_VERSION: 4.3
#$ CATEGORY: FILTERS
#$ STATUS: EXPERIMENTAL
#$ KEYWORDS: filters, tinywhoop, rpm
#$ AUTHOR: LoryRiga
#$ DESCRIPTION: Filters for 1s 65mm tynywhoops.
#$ DESCRIPTION:
#$ DESCRIPTION: WARNING: Preset for 12 poles motors. 
#$ DESCRIPTION:
#$ DESCRIPTION: WARNING: RPM filter is required. Ensure that DShot Telemetry is working properly!
#$ DESCRIPTION:
#$ DESCRIPTION: WARNING: Always check motors temperature when applying new filters. 
#$ DESCRIPTION: If motors get hot or make grind noise, reduce the dTerm expo or lower the gyro lowpass cutoff.


#APPLYING DEAFULT FILTERS
#$ INCLUDE: presets/4.3/filters/defaults.txt
#DEAFULTS END. APPLYING CUSTOM FILTERS 

# -- Only a static PT1 gyro lowpass --
set gyro_lpf1_dyn_min_hz = 0
set gyro_lpf1_dyn_max_hz = 0
set gyro_lpf2_static_hz = 0
set simplified_gyro_filter_multiplier = 120
simplified_tuning apply

# -- Gyro Static Notches (default)--

# -- Gyro Dynamic Notches --
set dyn_notch_count = 1
set dyn_notch_q = 400

# -- RPM filtering --
set dshot_bidir = ON

# -- Motor Poles --
set motor_poles_count = 12

# -- Dterm filtering --
set dterm_lpf1_dyn_min_hz = 90
set dterm_lpf1_dyn_max_hz = 115
set dterm_lpf1_dyn_expo = 7
set dterm_lpf1_static_hz = 0
set dterm_lpf2_static_hz = 0
set dterm_lpf1_type = PT2
set simplified_dterm_filter_multiplier = OFF

# -- No yaw lowpass --
set yaw_lowpass_hz = 0
